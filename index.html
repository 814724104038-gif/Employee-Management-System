<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Macha EMS | Employee Management System</title>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

<style>
body{font-family:Segoe UI;background:#f1f5f9;margin:0}
.sidebar{width:250px;background:#1e293b;color:#fff;height:100vh;position:fixed}
.sidebar h2{padding:20px}
.sidebar div{padding:15px 20px;cursor:pointer}
.sidebar div:hover{background:#334155}
.main{margin-left:250px;padding:20px}
.top{display:flex;justify-content:space-between;align-items:center}
button{padding:8px 14px;border:none;border-radius:6px;cursor:pointer}
.btn-primary{background:#2563eb;color:white}
.btn-danger{background:#ef4444;color:white}
.btn-success{background:#10b981;color:white}
table{width:100%;border-collapse:collapse;background:white;margin-top:20px}
th,td{padding:12px;border-bottom:1px solid #ddd}
.modal{display:none;position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,.5);justify-content:center;align-items:center}
.modal-content{background:white;padding:20px;width:400px;border-radius:10px}
input{width:100%;padding:10px;margin-bottom:10px}
</style>
</head>

<body>

<div class="sidebar">
<h2>âš¡ Macha EMS</h2>
<div>Dashboard</div>
<div>Employees</div>
</div>

<div class="main">
<div class="top">
<h2>Employee Management</h2>
<div>
<input type="text" id="search" placeholder="Search employee">
<button class="btn-primary" onclick="openModal()">+ Add Employee</button>
</div>
</div>

<table>
<thead>
<tr>
<th>ID</th>
<th>Name</th>
<th>Email</th>
<th>Role</th>
<th>Actions</th>
</tr>
</thead>
<tbody id="empTable"></tbody>
</table>
</div>

<!-- MODAL -->
<div class="modal" id="empModal">
<div class="modal-content">
<h3 id="modalTitle">Add Employee</h3>
<input type="hidden" id="empId">
<input id="name" placeholder="Name">
<input id="email" placeholder="Email">
<input id="role" placeholder="Role">
<button class="btn-success" onclick="saveEmployee()">Save</button>
<button onclick="closeModal()">Cancel</button>
</div>
</div>

<script>
let employees=[
{id:1,name:"Arun",email:"arun@gmail.com",role:"Developer"},
{id:2,name:"Priya",email:"priya@gmail.com",role:"HR"}
];

function renderTable(data=employees){
let rows="";
data.forEach(e=>{
rows+=`
<tr>
<td>${e.id}</td>
<td>${e.name}</td>
<td>${e.email}</td>
<td>${e.role}</td>
<td>
<button onclick="editEmployee(${e.id})">Edit</button>
<button class="btn-danger" onclick="deleteEmployee(${e.id})">Delete</button>
</td>
</tr>`;
});
document.getElementById("empTable").innerHTML=rows;
}
renderTable();

function openModal(){
document.getElementById("empModal").style.display="flex";
document.getElementById("modalTitle").innerText="Add Employee";
document.getElementById("empId").value="";
document.querySelectorAll("input").forEach(i=>i.value="");
}

function closeModal(){
document.getElementById("empModal").style.display="none";
}

function saveEmployee(){
let id=document.getElementById("empId").value;
let name=document.getElementById("name").value;
let email=document.getElementById("email").value;
let role=document.getElementById("role").value;

if(id){
let emp=employees.find(e=>e.id==id);
emp.name=name; emp.email=email; emp.role=role;
}else{
employees.push({id:Date.now(),name,email,role});
}
closeModal();
renderTable();
}

function editEmployee(id){
let e=employees.find(x=>x.id==id);
document.getElementById("empId").value=e.id;
document.getElementById("name").value=e.name;
document.getElementById("email").value=e.email;
document.getElementById("role").value=e.role;
document.getElementById("modalTitle").innerText="Edit Employee";
document.getElementById("empModal").style.display="flex";
}

function deleteEmployee(id){
if(confirm("Delete this employee?")){
employees=employees.filter(e=>e.id!==id);
renderTable();
}
}

document.getElementById("search").addEventListener("keyup",function(){
let v=this.value.toLowerCase();
renderTable(employees.filter(e=>e.name.toLowerCase().includes(v)));
});
</script>

</body>
</html>
